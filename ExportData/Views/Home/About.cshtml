@{
    ViewBag.Title = "About";
}
<h2>@ViewBag.Title.</h2>
<h3>@ViewBag.Message</h3>
<p>Use this area to provide additional information.</p>

@Ajax.ActionLink("Export to XML", "GetOutputString", new { format = "xml" }, new AjaxOptions()
{
    OnSuccess = "onSuccess",
    LoadingElementId = "divProgress",
})

@Ajax.ActionLink("Export to CSV", "GetOutputString", new { format = "csv" }, new AjaxOptions()
{
    OnSuccess = "onSuccess2",
    LoadingElementId = "divProgress",
})

<div id="divProgress" style="display: none">
    <img src=@Url.Content("~/Content/spiffygif_28x28.gif") alt="loading..." />
</div>

@section scripts
{
    <script src="../../Scripts/jquery.unobtrusive-ajax.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        function onSuccess(data) {
            window.location = "/Home/ExportXml";
        }

        function onSuccess2(data) {
            window.location = "/Home/ExportCsv";
        }
    </script>
}
